<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wordsearch Solver: utility::FlatCharValueMap&lt; Value &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wordsearch Solver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceutility.html">utility</a></li><li class="navelem"><a class="el" href="classutility_1_1FlatCharValueMap.html">FlatCharValueMap</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classutility_1_1FlatCharValueMap-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">utility::FlatCharValueMap&lt; Value &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A small cache for each character of a word and an associated value, such as iterator into a trie for each character.  
 <a href="classutility_1_1FlatCharValueMap.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="flat__char__value__map_8hpp_source.html">flat_char_value_map.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a033dff3637fda2b8668ec3519653d760"><td class="memItemLeft" align="right" valign="top"><a id="a033dff3637fda2b8668ec3519653d760"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>NumbElementsConsumed</b> = std::size_t</td></tr>
<tr class="separator:a033dff3637fda2b8668ec3519653d760"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0d0d80105e79b6af88fe33897aa7ebc"><td class="memItemLeft" align="right" valign="top"><a id="ab0d0d80105e79b6af88fe33897aa7ebc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FlatCharValueMap</b> (const <a class="el" href="classutility_1_1FlatCharValueMap.html">FlatCharValueMap</a> &amp;)</td></tr>
<tr class="separator:ab0d0d80105e79b6af88fe33897aa7ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed56c610fd882368246b16ba9d4f9ec9"><td class="memItemLeft" align="right" valign="top"><a id="aed56c610fd882368246b16ba9d4f9ec9"></a>
<a class="el" href="classutility_1_1FlatCharValueMap.html">FlatCharValueMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classutility_1_1FlatCharValueMap.html">FlatCharValueMap</a> &amp;)</td></tr>
<tr class="separator:aed56c610fd882368246b16ba9d4f9ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4517f160fdceb0e2ba5a9ac80e1c0646"><td class="memItemLeft" align="right" valign="top">const Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1FlatCharValueMap.html#a4517f160fdceb0e2ba5a9ac80e1c0646">lookup</a> (const std::string_view &amp;word, std::size_t &amp;consumed)</td></tr>
<tr class="memdesc:a4517f160fdceb0e2ba5a9ac80e1c0646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the cached value for a word.  <a href="classutility_1_1FlatCharValueMap.html#a4517f160fdceb0e2ba5a9ac80e1c0646">More...</a><br /></td></tr>
<tr class="separator:a4517f160fdceb0e2ba5a9ac80e1c0646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7cf57e6a48f02a4abbbbfedd3d8a588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1FlatCharValueMap.html#ab7cf57e6a48f02a4abbbbfedd3d8a588">append</a> (const char key, const Value &amp;value)</td></tr>
<tr class="memdesc:ab7cf57e6a48f02a4abbbbfedd3d8a588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a mapping from a <code>char</code> <code>key</code> to <code>value</code>.  <a href="classutility_1_1FlatCharValueMap.html#ab7cf57e6a48f02a4abbbbfedd3d8a588">More...</a><br /></td></tr>
<tr class="separator:ab7cf57e6a48f02a4abbbbfedd3d8a588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36caf5bbc967b34e13482ba9a3c61727"><td class="memItemLeft" align="right" valign="top"><a id="a36caf5bbc967b34e13482ba9a3c61727"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1FlatCharValueMap.html#a36caf5bbc967b34e13482ba9a3c61727">append</a> (const char key, Value &amp;&amp;value)</td></tr>
<tr class="memdesc:a36caf5bbc967b34e13482ba9a3c61727"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. <br /></td></tr>
<tr class="separator:a36caf5bbc967b34e13482ba9a3c61727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f512f3a56bcb2a5c7006b9cf534c58"><td class="memItemLeft" align="right" valign="top"><a id="a62f512f3a56bcb2a5c7006b9cf534c58"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1FlatCharValueMap.html#a62f512f3a56bcb2a5c7006b9cf534c58">clear</a> ()</td></tr>
<tr class="memdesc:a62f512f3a56bcb2a5c7006b9cf534c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the cache. <br /></td></tr>
<tr class="separator:a62f512f3a56bcb2a5c7006b9cf534c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac08b92b86607790f6fea0321dce6583b"><td class="memTemplParams" colspan="2">template&lt;class Str &gt; </td></tr>
<tr class="memitem:ac08b92b86607790f6fea0321dce6583b"><td class="memTemplItemLeft" align="right" valign="top">NumbElementsConsumed&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classutility_1_1FlatCharValueMap.html#ac08b92b86607790f6fea0321dce6583b">lookup_impl</a> (const Str &amp;word) const</td></tr>
<tr class="memdesc:ac08b92b86607790f6fea0321dce6583b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup <code>word</code> and return how many letters are found in the cache.  <a href="classutility_1_1FlatCharValueMap.html#ac08b92b86607790f6fea0321dce6583b">More...</a><br /></td></tr>
<tr class="separator:ac08b92b86607790f6fea0321dce6583b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa3fdbd85749021edd1b100f32f51e259"><td class="memItemLeft" align="right" valign="top"><a id="aa3fdbd85749021edd1b100f32f51e259"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>keys_</b></td></tr>
<tr class="separator:aa3fdbd85749021edd1b100f32f51e259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00760f27faf717a30cc798c3abf2ab7"><td class="memItemLeft" align="right" valign="top"><a id="af00760f27faf717a30cc798c3abf2ab7"></a>
std::vector&lt; Value &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>values_</b></td></tr>
<tr class="separator:af00760f27faf717a30cc798c3abf2ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01a5d9238693cfa3dbf7fd2867def49"><td class="memItemLeft" align="right" valign="top"><a id="aa01a5d9238693cfa3dbf7fd2867def49"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hits</b> = 0</td></tr>
<tr class="separator:aa01a5d9238693cfa3dbf7fd2867def49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bb2e69701d10c424b4f4916f37b2e6"><td class="memItemLeft" align="right" valign="top"><a id="ad9bb2e69701d10c424b4f4916f37b2e6"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>misses</b> = 0</td></tr>
<tr class="separator:ad9bb2e69701d10c424b4f4916f37b2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Value&gt;<br />
class utility::FlatCharValueMap&lt; Value &gt;</h3>

<p>A small cache for each character of a word and an associated value, such as iterator into a trie for each character. </p>
<p>Really this exists to overcome a potential performance limitation of the interface by which the dictionary solvers plug into the solver algorithm, where they would otherwise have to find their position again every iteration from scratch. However, for some iterations, the stem of the word is still the same, as the solver performs a breadth first search.</p>
<p>A different interface for the solver dictionaries to implement may help this, or simply storing more state on the solvers. What I'd <b>really</b> like is c++20 coroutines, allowing the solver dictionaries to write a tradional for loop style solver that would keep all the appropriate state in scope managed by the coroutine. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab7cf57e6a48f02a4abbbbfedd3d8a588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7cf57e6a48f02a4abbbbfedd3d8a588">&#9670;&nbsp;</a></span>append()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1FlatCharValueMap.html">utility::FlatCharValueMap</a>&lt; Value &gt;::append </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Value &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a mapping from a <code>char</code> <code>key</code> to <code>value</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4517f160fdceb0e2ba5a9ac80e1c0646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4517f160fdceb0e2ba5a9ac80e1c0646">&#9670;&nbsp;</a></span>lookup()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Value* <a class="el" href="classutility_1_1FlatCharValueMap.html">utility::FlatCharValueMap</a>&lt; Value &gt;::lookup </td>
          <td>(</td>
          <td class="paramtype">const std::string_view &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t &amp;&#160;</td>
          <td class="paramname"><em>consumed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the cached value for a word. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">word</td><td>The word to lookup </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">consumed</td><td>Number that will be incremented by how many letters are matched</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <code>Value</code>, or <code>nullptr</code> if no letters matched</dd></dl>
<dl class="section note"><dt>Note</dt><dd>gcc seems to take a perf hit when passed a string param and then a string_view must be created, clang not so. Both compilers seem unable to completely remove the overhead of constructing a string_view by value when passed one. </dd></dl>

</div>
</div>
<a id="ac08b92b86607790f6fea0321dce6583b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac08b92b86607790f6fea0321dce6583b">&#9670;&nbsp;</a></span>lookup_impl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Value &gt; </div>
<div class="memtemplate">
template&lt;class Str &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">NumbElementsConsumed <a class="el" href="classutility_1_1FlatCharValueMap.html">utility::FlatCharValueMap</a>&lt; Value &gt;::lookup_impl </td>
          <td>(</td>
          <td class="paramtype">const Str &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lookup <code>word</code> and return how many letters are found in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">word</td><td>Templated (unnecessarily now) for use with string or string_view</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if none found </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>utility/include/wordsearch_solver/utility/<a class="el" href="flat__char__value__map_8hpp_source.html">flat_char_value_map.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
