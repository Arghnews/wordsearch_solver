<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wordsearch Solver: TODO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wordsearch Solver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TODO </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>wordsearch_solver:: namespace around everything</li>
</ul>
<p>✓ Remove duplication of version in CMakeLists.txt and conanfile.py Add git hooks type check to ensure this</p>
<p>✓ Better way to add solvers than the horrendous #ifdefs in cmdline_app/main.cpp</p>
<ul>
<li>Implement copy construction for solvers, so can use benchmark::RegisterBenchmark as needs copy construction. Then redo benchmark to clean it up as a result</li>
<li>Make more stuff private, that should be</li>
<li>Run clang format on everything</li>
<li>Couldn't think where to put this, didn't want to lose it. It turns out, if you consume a conan package like with my matrix2d one but you use the cmake generator, not the cmake_find_package, then you'll get hit with warnings that you don't get if consuming via find_package. Take for example this, built with clang++ -std=c++17 -Wconversion a.cpp</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// a.cpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;boost/container/small_vector.hpp&quot;</span></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  boost::container::small_vector&lt;int, 4&gt; v;</div>
<div class="line">  <span class="keywordflow">return</span> v.cend() &gt; v.cbegin();</div>
<div class="line">}</div>
</div><!-- fragment --><p>Complains about boost/container/vector.hpp, line 1458 in cend() const Need to change </p><div class="fragment"><div class="line">it += this-&gt;m_holder.m_size;</div>
</div><!-- fragment --><p> to </p><div class="fragment"><div class="line">it += <span class="keyword">static_cast&lt;</span>difference_type<span class="keyword">&gt;</span>(this-&gt;m_holder.m_size);</div>
</div><!-- fragment --><p>boost::container::small_vector is used in matrix2d which is used by this project. I only, however, get this warning when compiling using conan and the cmake generator (not the cmake find_package one) and clang. gcc gives different -Wconversion related warnings from other parts of boost.</p>
<p>Solutions/attempts:</p><ul>
<li>Do nothing. Pro: preserves my sanity. Just consume via conan and the generator "cmake_find_package", not "cmake"</li>
<li>Have tried stuff like <a href="https://stackoverflow.com/q/52135983/8594193">this</a>, as I know cmake has target_include_directories(SYSTEM) which corresponds to the -isystem flag, but struggling to find how to make it work for libraries linked except with stuff like that</li>
<li>In the same vein, some cmake-foo to move the include dirs from the target proeprty INTERFACE_INCLUDE_DIRECTORIES to SYSTEM_INTERFACE_INCLUDE_DIRECTORIES, not sure if possible</li>
<li>Could just shove the pragma to say it's a system header and be done with it</li>
<li>"Pragma push diagnostic ignored -Wno-conversion" or whatever the hell the line is Is boost <em>meant</em> to only be included as a system dependency?</li>
</ul>
<p>This took a while to find. Was getting mysterious undefined reference to main style errors when using conan create only in Release builds, not Debug, in the test files, using gcc. Long story short, in Release mode in the main CMakeLists.txt I had specified -flto in only the link lines for Debug, but for the link and compile for Release. It turns out -flto was presumably allowing the linker to throw away the main function, generated either by boost test internal boost stuff, or then by Catch2 in my testing as defined by CATCH_CONFIG_MAIN, or even my own int main(). Eventually even compiling hello world with <code>g++ -flto a.cpp</code> failed. That's when I remembered, in my infinite wisdom, a while back, I'd decided that rather than writing "-fuse-ld=lld" every time in my link options, I'd see what happened if I symlinked /usr/bin/ld (which is symlinked to the slow old bfd linker) to ld.lld (llvm's faster, better linker). And all was well. Except that gcc needs special handling - awareness from the linker - to handle its lto objects, at least without -ffat-lto-objects. Release, linking with default bfd, 1m43s, gold, 1m30s, clang+lld, 30s</p>
<p>✓ Currently have some circular includes in solver, fix those</p>
<p>✓ Clean up the constructor delegation/initialisation mess between <a class="el" href="namespacecompact__trie.html" title="namespace compact_trie">compact_trie</a> and <a class="el" href="namespacecompact__trie2.html" title="namespace compact_trie2">compact_trie2</a></p><ul>
<li>Thinking move something out to utility</li>
</ul>
<p>Put conversion from const char* -&gt; std::string_view in <a class="el" href="classsolver_1_1SolverDictWrapper.html" title="A type erased wrapper around a particular solver dictionary implementation.">solver::SolverDictWrapper</a>, so can allow passing const char* lists to any solver </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
